function ajaxRequest(a, b, c, d) {
    $.ajax({
        method: a,
        url: b,
        data: c,
        dataType: d,
        success: function(a) {
            return !0
        },
        error: function(a) {
            return !1
        }
    })
}

function mobileSlideshow() {
    var a = 768;
    window.innerWidth < a && $(".mobile-slideshow").slick({
        responsive: [{
            breakpoint: a,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2,
                infinite: !0,
                dots: !0
            }
        }]
    })
}

function trackLinkO(a, b) {
    "undefined" != typeof b ? b += " | " : b = "", s.tl(!0, "o", b + a)
}
$(function() {
        $(".searchAttractions #form-attraction").submit(function(a) {
            a.preventDefault();
            var b = $("#attraction-type").val();
            b = b ? "?types=" + b : "";
            var c = b ? "&" : "?",
                d = $("#attraction-neighborhood").val();
            d = d ? c + "neighborhoods=" + d : "";
            var e = $(this).attr("action") + b + d;
            window.location = nycgoGlobalSettings.siteUrl + e
        })
    }), $(function() {
        function a(a) {
            return a.setMinutes(a.getTimezoneOffset()), a.toISOString().substring(0, 10)
        }
        var b = ".searchBroadway .startDate",
            c = ".searchBroadway .endDate";
        $(b).datepicker({
            startDate: "+1d",
            endDate: "+5y",
            autoclose: !0
        }).on("changeDate", function(a) {
            if (a) {
                var b = new Date(a.date),
                    d = new Date(b);
                d.setDate(b.getDate()), $(c).datepicker("setStartDate", d), $(c)[0].focus()
            }
        }), $(c).datepicker({
            startDate: "+0d",
            autoclose: !0
        }).change(function() {
            var a = "" != $(b).val() && "" != $(c).val();
            a && $(".searchBroadway .btn-submit").prop("disabled", !1)
        });
        $(".searchBroadway #form-broadway").submit(function(d) {
            d.preventDefault();
            var e = new Date($(b).val()),
                f = e ? "?begin_date=" + a(e) : "",
                g = new Date($(c).val()),
                h = g ? "&end_date=" + a(g) : "",
                i = $("#form-broadway #tickets").val() || 1;
            i = "&tickets=" + i;
            var j = $("#form-broadway #broadway-genre").val() || "";
            j = j ? "&genres=" + j : "";
            var k = $(this).attr("action") + f + h + i + j;
            window.location = nycgoGlobalSettings.siteUrl + k
        })
    }),
    function() {
        function a(a, b) {
            $(a).addClass("hide"), $(b).addClass("confirmation-show")
        }
        var b = function(a) {
            return $(a).length >= 1 ? ($(a).attr("data-parsley-errors-messages-disabled", "false"), $(a).parsley()) : null
        };
        b = b("#contact_form"), $("body").on("submit", "#contact_form", function(c) {
            null !== b && b.isValid() && ($('input[name="subject"]').val($('input[name="subject"]').val() + " - " + $('select[name="department"] option:selected').text()), ajaxRequest("post", "/", $(this).serialize(), "text"), a("#contact_form", ".confirmation")), c.preventDefault()
        })
    }(), $(function() {
        $(".searchEvents #form-events").submit(function(a) {
            a.preventDefault();
            var b = $("#event-category").val();
            b = b ? "?categories=" + b : "";
            var c = b ? "&" : "?",
                d = $("#event-neighborhood").val();
            d = d ? c + "neighborhoods=" + d : "";
            var e = $(this).attr("action") + b + d;
            window.location = nycgoGlobalSettings.siteUrl + e
        })
    }), $(function() {
        function a(a) {
            return a.setMinutes(a.getTimezoneOffset()), a.toISOString().substring(0, 10)
        }
        var b = {
                startDate: "+0d",
                endDate: "+5y",
                autoclose: !0
            },
            c = {
                startDate: "+0d",
                autoclose: !0
            },
            d = function(a) {
                if (a) {
                    var b = new Date(a.date),
                        c = new Date(b);
                    c.setDate(b.getDate() + 1);
                    var d = $(this).closest("#form-hotels").find(".endDate");
                    $(d).datepicker("setStartDate", c), $(d)[0].focus()
                }
            },
            e = function() {
                var a = $(this).closest("#form-hotels").find(".startDate"),
                    b = $(this).closest("#form-hotels").find(".endDate"),
                    c = "" != a.val() && "" != b.val();
                c && $(this).closest("#form-hotels").find(".btn-submit").prop("disabled", !1)
            },
            f = ".searchHotels .startDate",
            g = ".searchHotels .endDate";
        $(f).datepicker(b).on("changeDate", d), $(g).datepicker(c).on("changeDate", e);
        $(".searchHotels.default #form-hotels, .searchHotels.nav-widget #form-hotels").submit(function(b) {
            b.preventDefault();
            var c = new Date($(this).find(".startDate").val()),
                d = c ? "?arrival_date=" + a(c) : "",
                e = new Date($(this).find(".endDate").val()),
                f = e ? "&departure_date=" + a(e) : "",
                g = $(this).find("#max_persons").val() || 1;
            g = "&max_persons=" + g;
            var h = $(this).attr("action") + d + f + g;
            window.location = nycgoGlobalSettings.siteUrl + h
        })
    }), $.fn.setToMaxHeight = function() {
        var a = $.map(this, function(a) {
                return $(a).height()
            }),
            b = Math.max.apply(null, a);
        return this.height(b)
    }, $(".borough-map .hover-list").hover(function() {
        var a = $(this).attr("href").split("/");
        a = a[a.length - 1].trim(), $('.borough_svg_path[data-href="' + a + '"]').css("opacity", "1")
    }, function() {
        $(".borough_svg_path").css("opacity", "")
    }), $(".borough-map .borough_svg_path").hover(function() {
        $(".borough-map .hover-list").each(function() {
            $(this).attr("data-map", function() {
                var a = $(this).attr("href").split("/");
                return a = a[a.length - 1].trim()
            })
        });
        var a = $(this).attr("data-href");
        $('.hover-list[data-map="' + a + '"]').css("color", "#000")
    }, function() {
        $(".hover-list").css("color", "")
    }), $("a.card").hover(function(a) {
        $(this).find("button").not(".disabled").toggleClass("hover")
    }), $("a[data-load]").on("click", function() {
        var a = $(this).attr("data-load");
        $("div[data-label=" + a + "]").show()
    }), $("a[data-unload]").on("click", function() {
        var a = $(this).attr("data-unload");
        $("div[data-label=" + a + "]").hide()
    }), $(".follow").affix({
        offset: {
            top: 500,
            bottom: function() {
                return this.bottom = $("footer").outerHeight(!0) + 250
            }
        }
    }), $(".nav-drop").on("show.bs.modal", function(a) {
        if ($(a.target).hasClass("startDate") || $(a.target).hasClass("endDate")) return !1;
        $(".nav-item").removeClass("open"), $(".nav-drop").modal("hide"), $(this).data("bs.modal").options.backdrop = !1, $(a.relatedTarget).addClass("open");
        var b = $(a.relatedTarget).text();
        trackLinkO(b, "Global Nav Dropdown")
    }).on("hide.bs.modal", function(a) {
        return $(a.target).hasClass("startDate") || $(a.target).hasClass("endDate") ? !1 : void $(".nav-item").removeClass("open")
    }), $("nav.navbar").affix({
        offset: 30
    }), $("body").on("click", ".disabled, .disabled a", function(a) {
        a.preventDefault()
    }), $(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]', function(a) {
        a.preventDefault(), $('ul.nav li a[href="' + $(this).attr("href") + '"]').tab("show")
    }), $(".datepicker").datepicker(), $("a.load-more-content").on("click", function(a) {
        a.preventDefault(), $(".content-to-load").slideToggle(), $(this).hide()
    }), $('[data-toggle="tooltip"]').tooltip(), $('[data-toggle="popover"]').popover(), $('[data-toggle="popover"]').each(function() {
        var a = $(this);
        a.popover().on("shown.bs.popover", function() {
            a.data("bs.popover").tip().find('[data-dismiss="popover"]').on("click", function() {
                a.popover("hide")
            })
        })
    }), $(".search-availability").on("click", ".hotel-availability", function() {
        $(".panel-collapse").each(function(a) {
            $(this).removeClass("in")
        })
    }), $("body").on("click", 'a[href="#availablity"]', function(a) {
        a.preventDefault(), $("#availablity").velocity("scroll", {
            duration: 600
        })
    }), $("body").on("click", 'a[href="#browse-in-page"]', function(a) {
        a.preventDefault(), $(".browse-in-page").velocity("scroll", {
            duration: 600,
            offset: -10,
            easing: "ease-in-out"
        })
    }), $("body").on("click", 'a[href="#open-table-widget"]', function(a) {
        a.preventDefault(), $(".restaurant-week").velocity("scroll", {
            duration: 600,
            offset: -10,
            easing: "ease-in-out"
        })
    }), window.Parsley.on("field:error", function() {
        this.$element.closest(".form-group").addClass("has-error")
    }), window.Parsley.on("field:success", function() {
        this.$element.closest(".form-group").removeClass("has-error")
    }), $("body").on("click", ".back-to-top", function() {
        $("html").velocity("scroll", {
            offset: "0",
            duration: 400,
            easing: "easeInOutQuart"
        })
    }).on("click", 'a[href="#reviews"]', function(a) {
        a.preventDefault(), $(".user-reviews").velocity("scroll", {
            offset: -45,
            duration: 500,
            easing: "easeInOutQuart"
        }), $(".btn-toggle-reviews").trigger("click")
    }).on("click", 'a[data-scroll="true"]', function(a) {
        a.preventDefault();
        var b = $(this).attr("href"),
            c = $(this).attr("data-scroll-target"),
            d = c || b;
        $(d).velocity("scroll", {
            offset: -45,
            duration: 500,
            easing: "easeInOutQuart"
        })
    });

var basicModal = function() {
    function a() {
        return e > 5 ? 5 : e % 2 && 5 >= e ? e - 2 : e - 1
    }
    var b = $(".photo-galleries"),
        c = $(".gallery-modal");
    $(b).addClass("expanded"), $(c).addClass("show"), $("body").on("click", ".end-show", function(a) {
        a.preventDefault(), $("body").removeClass("modal-open"), $(b).removeClass("expanded"), $(c).removeClass("show")
    });
    var d = $(".gallery-modal"),
        e = $(".gallery-slider img").length,
        f = $(".currentSlide");
    $(".totalSlides").text(e), $(".start-show").on("click", function(a) {
        a.preventDefault(), $(".photo-gallery").addClass("expanded"), d.toggleClass("show"), h.slick("setPosition"), i.slick("setPosition")
    }), $("#more-photos-wrapper").on("click", ".slide-next", function() {
        h.slick("slickNext")
    }).on("click", ".gallery-image", function() {
        h.slick("slickNext")
    }).on("click", ".slide-prev", function() {
        h.slick("slickPrev")
    }), $(".end-show").on("click", function(a) {
        a.preventDefault(), $(".photo-gallery").removeClass("expanded"), d.toggleClass("show")
    });
    var g = $(".gallery-slider-content").slick({
            arrows: !1,
            fade: !0,
            speed: 200
        }),
        h = $(".gallery-slider").slick({
            arrows: !1,
            fade: !0,
            asNavFor: ".gallery-slider-thumbnails"
        }).on("beforeChange", function(a, b, c, d) {
            g.slick("slickGoTo", d), f.text(d + 1)
        }),
        i = $(".gallery-slider-thumbnails").slick({
            arrows: !1,
            slidesToShow: a(),
            slidesToScroll: 1,
            centerMode: !0,
            asNavFor: ".gallery-slider",
            focusOnSelect: !0
        });
    $(".slideshow-description").jScrollPane()
};
$(".more-photos").on("click", function(a) {
    basicModal(), a.preventDefault()
}), $("#collapseHighlights, #collapseHotels, #collapseThingstoDo, #collapsePlan").on("show.bs.collapse hide.bs.collapse", function() {
    $(this).prev().find(".icon").toggleClass("icon-plus icon-minus")
}), $("input[name=viewtoggle]").change(function() {
    var a = "." + $(this).attr("data-controls");
    $(a + ".card-deck," + a + ".card-list").toggleClass("card-list card-deck")
}), $(".opentable-button").on("click", function(a) {
    a.preventDefault(), $("#ism").submit()
}), $(".calendar-widget").on("click", "a, button", function() {
    $(this).closest(".calendar-event-wrapper").find(".expand button").toggleClass("active")
}), $(".video-bg video").on("playing", function(a) {
    $(this).velocity({
        opacity: 1
    }, {
        duration: 300,
        easing: "ease-in"
    })
}), mobileSlideshow(), $(function() {
    $(".searchMuseums #form-museums").submit(function(a) {
        a.preventDefault();
        var b = $("#museums-type").val();
        b = b ? "?types=" + b : "";
        var c = b ? "&" : "?",
            d = $("#museums-neighborhood").val();
        d = d ? c + "neighborhoods=" + d : "";
        var e = $(this).attr("action") + b + d;
        window.location = nycgoGlobalSettings.siteUrl + e
    })
}), $(function() {
    function a() {
        return [].slice.call(arguments).map(function(a) {
            return a.substr(1)
        })
    }

    function b() {
        clearInterval(v)
    }

    function c() {
        return $(s).parsley({
            errorClass: "has-error",
            successClass: "has-success"
        })
    }

    function d() {
        q >= o && m && !p && setTimeout(function() {
            i(), Cookies.set("nycgo_newsletter_modal_opened", "true", {
                expires: 30
            })
        }, n)
    }

    function e(a, b, c) {
        return a.split(b).join(c)
    }

    function f(a, b) {
        return a = "/" == a ? "home" : a.slice(1), a = e(a, "/", ":"), b.replace("[modal-path]", a)
    }

    function g() {
        var a = /[modal-path]/;
        $('input[name^="details"]').each(function() {
            a.test($(this).val()) && $(this).val(f(window.location.pathname, $(this).val()))
        })
    }

    function h(a, b) {
        return "US" != $(a).val() ? void $(a).closest("form").find(".postalcode-row").children().remove() : void $(a).closest("form").find(".postalcode-row").append(b)
    }

    function i() {
        if ($("#newsletter-modal-wrapper").length < 1) {
            var a = "/newsletters/newsletter-modal";
            $.get(a, function(a) {
                $("body").append(a), $("#newsletter-modal-wrapper").modal("show")
            }).fail(function() {}).done(function() {
                formInstances = c(), $(s).on("submit", !1)
            }), $("#newsletter-modal-wrapper").modal("show")
        }
    }

    function j(a) {
        a.isValid() && (k($(a.$element[0])), $(a.$element[0]).hide().removeClass(t), $(a.$element[0]).hasClass("newsletter-modal") && setTimeout(function() {
            $("#newsletter-modal-wrapper").modal("hide")
        }, 2500))
    }

    function k(a) {
        g(), ajaxRequest("POST", "/?ACT=" + nycgoGlobalSettings.newsletterAct, $(a).serialize(), "json"), $(a).next(".newsletter-confirmation").addClass("confirmation-show")
    }

    function l(a) {
        return a.find(".submit-row button").hasClass("expand") ? !1 : (a.find(".form-group").not(":visible").css({
            height: 0,
            display: "block",
            opacity: 0
        }).velocity({
            properties: {
                height: "90px",
                opacity: 1
            },
            options: {
                duration: 500
            }
        }), void a.find(".submit-row button").addClass("expand"))
    }
    var m = nycgoGlobalSettings.showModal,
        n = 0,
        o = 1,
        p = Cookies.get("nycgo_newsletter_modal_opened") || 0,
        q = Cookies.get("nycgo_page_visits") || 0,
        r = [".newsletter-form", ".newsletter-unsubscribe"],
        s = r.join(),
        t = a.apply(null, r).join(" ");
    formInstances = c();
    var u = function() {
            return this === document.body ? ($("body").unbind("click", u), d.call()) : this === window && (window.pageYOffset >= $("body").outerHeight() / 2 || window.pageYOffset >= 1e3) ? (b.call(), d.call()) : void 0
        },
        v = setInterval(u.bind(), 500);
    $(s).on("submit", !1), Cookies.set("nycgo_page_visits", ++q, {
        expires: 30
    }), $("body").on("keyup", ".form-control", function() {
        return "" !== this.value ? void $(this).next(".placeholder").addClass("show") : void $(this).next(".placeholder").removeClass("show")
    });
    var w;
    $("body").on("change", 'select[name="country"]', function() {
        w = void 0 === w ? $(this).closest("form").find(".postalcode-row").children().clone(!0, !0) : w, h(this, w)
    }), $("body").on("click keyup keypress", 'form[class*="newsletter"] button[type="submit"]', function(a) {
        Array.isArray(formInstances) ? (formInstances.map(function(a) {
            j(a)
        }), formInstances = c()) : j(formInstances)
    }), $('.newsletter-compact button[type="submit"]').on("click", function() {
        l($(this).closest("form"))
    }), $('.newsletter-compact input[type="email"]').on("keyup", function() {
        /@/.test(this.value) && l($(this).closest("form"))
    })
}), $(function() {
    $(".searchNightlife #form-nightlife").submit(function(a) {
        a.preventDefault();
        var b = $("#nightlife-genres").val();
        b = b ? "?genres=" + b : "";
        var c = b ? "&" : "?",
            d = $("#nightlife-neighborhood").val();
        d = d ? c + "neighborhoods=" + d : "";
        var e = $(this).attr("action") + b + d;
        window.location = nycgoGlobalSettings.siteUrl + e
    })
}), $(".related-content-grouped-filter").on("click", function(a) {
    a.preventDefault();
    var b = $(this).parent("li").attr("id").split(/-/),
        c = b[b.length - 1];
    $("li.related-content-grouped-li").removeClass("active"), $(this).parent("li").addClass("active"), "all" == c ? $(".related-content-grouped").slick("slickUnfilter") : $(".related-content-grouped").slick("slickFilter", ".related-content-grouped-category-" + c)
}), $(".featured-content-grouped-filter").on("click", function(a) {
    a.preventDefault();
    var b = $(this).parent("li").attr("id").split(/-/),
        c = b[b.length - 1];
    $("li.featured-content-grouped-li").removeClass("active"), $(this).parent("li").addClass("active"), "all" == c ? $(".featured-content-grouped").slick("slickUnfilter") : $(".featured-content-grouped").slick("slickFilter", ".featured-content-grouped-category-" + c)
}), $(function() {
    $(".searchRestaurants #form-restaurants").submit(function(a) {
        a.preventDefault();
        var b = $("#restaurants-cuisine").val();
        b = b ? "?cuisines=" + b : "";
        var c = b ? "&" : "?",
            d = $("#restaurants-neighborhood").val();
        d = d ? c + "neighborhoods=" + d : "";
        var e = $(this).attr("action") + b + d;
        window.location = nycgoGlobalSettings.siteUrl + e
    })
}), $(function() {
    $(".searchServices #form-services").submit(function(a) {
        a.preventDefault();
        var b = $("#services-type").val();
        b = b ? "?types=" + b : "";
        var c = b ? "&" : "?",
            d = $("#services-neighborhood").val();
        d = d ? c + "neighborhoods=" + d : "";
        var e = $(this).attr("action") + b + d;
        window.location = nycgoGlobalSettings.siteUrl + e
    })
}), $(function() {
    var a = $(".sharer[data-sharer]");
    a.on("click", function(b) {
        function c() {
            var a = "";
            return "" !== $('meta[name="description"]').attr("content") ? a = $('meta[name="description"]').attr("content") : "" !== $('meta[name="summary"]').attr("content") && (a = $('meta[name="summary"]').attr("content")), a
        }
        $.map(a, function(a) {
            "" === a.dataset.title && (a.dataset.title = c()), "" === a.dataset.subject && (a.dataset.subject = document.title), "" === a.dataset.image && (a.dataset.image = $('meta[itemprop="image"]').attr("content")), "" === a.dataset.description && (a.dataset.description = c()), "twitter" == a.dataset.sharer && (a.dataset.title = "NYCgo.com: The Official Guide invites you to explore " + $('meta[name="display_title"]').attr("content")), a.dataset.url = window.location.href
        }), b.preventDefault()
    })
}), $(function() {
    $(".searchShopping #form-shopping").submit(function(a) {
        a.preventDefault();
        var b = $("#shopping-type").val();
        b = b ? "?types=" + b : "";
        var c = b ? "&" : "?",
            d = $("#shopping-neighborhood").val();
        d = d ? c + "neighborhoods=" + d : "";
        var e = $(this).attr("action") + b + d;
        window.location = nycgoGlobalSettings.siteUrl + e
    })
}), $(document).ready(function() {
    var a = 670,
        b = 992;
    $(".related-content, .related-content-grouped").slick({
        slidesToShow: 4,
        slidesToScroll: 4,
        dots: !0,
        responsive: [{
            breakpoint: b,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2
            }
        }]
    }), $(".inline-content").slick({
        slidesToShow: 3,
        slidesToScroll: 3,
        dots: !0,
        responsive: [{
            breakpoint: b,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2
            }
        }]
    }), $(".list-panel-carousel").slick({
        slidesToShow: 2,
        slidesToScroll: 2,
        vertical: !0,
        dots: !0,
        touchMove: !1,
        swipe: !1
    }), $(".featured-content-grouped").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        dots: !0,
        responsive: [{
            breakpoint: a,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2
            }
        }]
    })
}), $(function() {
    $(".searchTours #form-tours").submit(function(a) {
        a.preventDefault();
        var b = $("#tours-type").val();
        b = b ? "?types=" + b : "";
        var c = $(this).attr("action") + b;
        window.location = nycgoGlobalSettings.siteUrl + c
    })
});
var searchSuggestions = new Bloodhound({
        datumTokenizer: function(a) {
            return Bloodhound.tokenizers.whitespace(a.value)
        },
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        remote: {
            url: "http://209.131.124.106/suggest?q=%QUERY&max=10&site=default_collection&access=access&format=rich&client=nycgo_frontend&callback=?",
            wildcard: "%QUERY",
            ajax: {
                type: "GET",
                dataType: "jsonp",
                jsonp: "jsonp"
            },
            filter: function(a) {
                return $.map(a.results, function(a) {
                    return {
                        value: a.name.replace("\\u000f", ""),
                        type: a.type
                    }
                })
            }
        }
    });